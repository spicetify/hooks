// @ts-ignore
// @deno-types="jsr:@std/collections@1.0.5"
export * from "data:application/javascript;base64,ZnVuY3Rpb24gbWFwRW50cmllcyhyZWNvcmQsdHJhbnNmb3JtZXIpe2NvbnN0IHJlc3VsdD17fTtjb25zdCBlbnRyaWVzPU9iamVjdC5lbnRyaWVzKHJlY29yZCk7Zm9yKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpe2NvbnN0W21hcHBlZEtleSxtYXBwZWRWYWx1ZV09dHJhbnNmb3JtZXIoZW50cnkpO3Jlc3VsdFttYXBwZWRLZXldPW1hcHBlZFZhbHVlO31yZXR1cm4gcmVzdWx0O31leHBvcnR7bWFwRW50cmllcyBhcyBtYXBFbnRyaWVzfTtmdW5jdGlvbiBhZ2dyZWdhdGVHcm91cHMocmVjb3JkLGFnZ3JlZ2F0b3Ipe3JldHVybiBtYXBFbnRyaWVzKHJlY29yZCwoW2tleSx2YWx1ZXNdKT0+W2tleSx2YWx1ZXMucmVkdWNlKChhY2N1bXVsYXRvcixjdXJyZW50LGN1cnJlbnRJbmRleCk9PmFnZ3JlZ2F0b3IoY3VycmVudCxrZXksY3VycmVudEluZGV4PT09MCxhY2N1bXVsYXRvciksdW5kZWZpbmVkKV0pO31leHBvcnR7YWdncmVnYXRlR3JvdXBzIGFzIGFnZ3JlZ2F0ZUdyb3Vwc307ZnVuY3Rpb24gYXNzb2NpYXRlQnkoYXJyYXksc2VsZWN0b3Ipe2NvbnN0IHJlc3VsdD17fTtmb3IoY29uc3QgZWxlbWVudCBvZiBhcnJheSl7cmVzdWx0W3NlbGVjdG9yKGVsZW1lbnQpXT1lbGVtZW50O31yZXR1cm4gcmVzdWx0O31leHBvcnR7YXNzb2NpYXRlQnkgYXMgYXNzb2NpYXRlQnl9O2Z1bmN0aW9uIGFzc29jaWF0ZVdpdGgoYXJyYXksc2VsZWN0b3Ipe2NvbnN0IHJlc3VsdD17fTtmb3IoY29uc3QgZWxlbWVudCBvZiBhcnJheSl7cmVzdWx0W2VsZW1lbnRdPXNlbGVjdG9yKGVsZW1lbnQpO31yZXR1cm4gcmVzdWx0O31leHBvcnR7YXNzb2NpYXRlV2l0aCBhcyBhc3NvY2lhdGVXaXRofTtmdW5jdGlvbiBjaHVuayhhcnJheSxzaXplKXtpZihzaXplPD0wfHwhTnVtYmVyLmlzSW50ZWdlcihzaXplKSl7dGhyb3cgbmV3IFJhbmdlRXJyb3IoYEV4cGVjdGVkIHNpemUgdG8gYmUgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gMCBidXQgZm91bmQgJHtzaXplfWApO31jb25zdCByZXN1bHQ9W107bGV0IGluZGV4PTA7d2hpbGUoaW5kZXg8YXJyYXkubGVuZ3RoKXtyZXN1bHQucHVzaChhcnJheS5zbGljZShpbmRleCxpbmRleCtzaXplKSk7aW5kZXgrPXNpemU7fXJldHVybiByZXN1bHQ7fWV4cG9ydHtjaHVuayBhcyBjaHVua307ZnVuY3Rpb24gZmlsdGVySW5QbGFjZShhcnJheSxwcmVkaWNhdGUpe2xldCBvdXRwdXRJbmRleD0wO2Zvcihjb25zdCBjdXIgb2YgYXJyYXkpe2lmKCFwcmVkaWNhdGUoY3VyKSl7Y29udGludWU7fWFycmF5W291dHB1dEluZGV4XT1jdXI7b3V0cHV0SW5kZXgrPTE7fWFycmF5LnNwbGljZShvdXRwdXRJbmRleCk7cmV0dXJuIGFycmF5O31mdW5jdGlvbiBkZWVwTWVyZ2UocmVjb3JkLG90aGVyLG9wdGlvbnMpe3JldHVybiBkZWVwTWVyZ2VJbnRlcm5hbChyZWNvcmQsb3RoZXIsbmV3IFNldCxvcHRpb25zKTt9ZnVuY3Rpb24gZGVlcE1lcmdlSW50ZXJuYWwocmVjb3JkLG90aGVyLHNlZW4sb3B0aW9ucyl7Y29uc3QgcmVzdWx0PXt9O2NvbnN0IGtleXM9bmV3IFNldChbLi4uZ2V0S2V5cyhyZWNvcmQpLC4uLmdldEtleXMob3RoZXIpXSk7Zm9yKGNvbnN0IGtleSBvZiBrZXlzKXtpZihrZXk9PT0iX19wcm90b19fIil7Y29udGludWU7fWNvbnN0IGE9cmVjb3JkW2tleV07aWYoIU9iamVjdC5oYXNPd24ob3RoZXIsa2V5KSl7cmVzdWx0W2tleV09YTtjb250aW51ZTt9Y29uc3QgYj1vdGhlcltrZXldO2lmKGlzTm9uTnVsbE9iamVjdChhKSYmaXNOb25OdWxsT2JqZWN0KGIpJiYhc2Vlbi5oYXMoYSkmJiFzZWVuLmhhcyhiKSl7c2Vlbi5hZGQoYSk7c2Vlbi5hZGQoYik7cmVzdWx0W2tleV09bWVyZ2VPYmplY3RzKGEsYixzZWVuLG9wdGlvbnMpO2NvbnRpbnVlO31yZXN1bHRba2V5XT1iO31yZXR1cm4gcmVzdWx0O31mdW5jdGlvbiBtZXJnZU9iamVjdHMobGVmdCxyaWdodCxzZWVuLG9wdGlvbnM9e2FycmF5czoibWVyZ2UiLHNldHM6Im1lcmdlIixtYXBzOiJtZXJnZSJ9KXtpZihpc01lcmdlYWJsZShsZWZ0KSYmaXNNZXJnZWFibGUocmlnaHQpKXtyZXR1cm4gZGVlcE1lcmdlSW50ZXJuYWwobGVmdCxyaWdodCxzZWVuLG9wdGlvbnMpO31pZihpc0l0ZXJhYmxlKGxlZnQpJiZpc0l0ZXJhYmxlKHJpZ2h0KSl7aWYoQXJyYXkuaXNBcnJheShsZWZ0KSYmQXJyYXkuaXNBcnJheShyaWdodCkpe2lmKG9wdGlvbnMuYXJyYXlzPT09Im1lcmdlIil7cmV0dXJuIGxlZnQuY29uY2F0KHJpZ2h0KTt9cmV0dXJuIHJpZ2h0O31pZihsZWZ0IGluc3RhbmNlb2YgTWFwJiZyaWdodCBpbnN0YW5jZW9mIE1hcCl7aWYob3B0aW9ucy5tYXBzPT09Im1lcmdlIil7cmV0dXJuIG5ldyBNYXAoWy4uLmxlZnQsLi4ucmlnaHRdKTt9cmV0dXJuIHJpZ2h0O31pZihsZWZ0IGluc3RhbmNlb2YgU2V0JiZyaWdodCBpbnN0YW5jZW9mIFNldCl7aWYob3B0aW9ucy5zZXRzPT09Im1lcmdlIil7cmV0dXJuIG5ldyBTZXQoWy4uLmxlZnQsLi4ucmlnaHRdKTt9cmV0dXJuIHJpZ2h0O319cmV0dXJuIHJpZ2h0O31mdW5jdGlvbiBpc01lcmdlYWJsZSh2YWx1ZSl7cmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWx1ZSk9PT1PYmplY3QucHJvdG90eXBlO31mdW5jdGlvbiBpc0l0ZXJhYmxlKHZhbHVlKXtyZXR1cm4gdHlwZW9mIHZhbHVlW1N5bWJvbC5pdGVyYXRvcl09PT0iZnVuY3Rpb24iO31mdW5jdGlvbiBpc05vbk51bGxPYmplY3QodmFsdWUpe3JldHVybiB2YWx1ZSE9PW51bGwmJnR5cGVvZiB2YWx1ZT09PSJvYmplY3QiO31mdW5jdGlvbiBnZXRLZXlzKHJlY29yZCl7Y29uc3QgcmVzdWx0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocmVjb3JkKTtmaWx0ZXJJblBsYWNlKHJlc3VsdCxrZXk9Pk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChyZWNvcmQsa2V5KSk7cmVzdWx0LnB1c2goLi4uT2JqZWN0LmtleXMocmVjb3JkKSk7cmV0dXJuIHJlc3VsdDt9ZXhwb3J0e2RlZXBNZXJnZSBhcyBkZWVwTWVyZ2V9O2Z1bmN0aW9uIGRpc3RpbmN0KGFycmF5KXtjb25zdCBzZXQ9bmV3IFNldChhcnJheSk7cmV0dXJuIEFycmF5LmZyb20oc2V0KTt9ZXhwb3J0e2Rpc3RpbmN0IGFzIGRpc3RpbmN0fTtmdW5jdGlvbiBkaXN0aW5jdEJ5KGFycmF5LHNlbGVjdG9yKXtjb25zdCBzZWxlY3RlZFZhbHVlcz1uZXcgU2V0O2NvbnN0IHJlc3VsdD1bXTtmb3IoY29uc3QgZWxlbWVudCBvZiBhcnJheSl7Y29uc3Qgc2VsZWN0ZWQ9c2VsZWN0b3IoZWxlbWVudCk7aWYoIXNlbGVjdGVkVmFsdWVzLmhhcyhzZWxlY3RlZCkpe3NlbGVjdGVkVmFsdWVzLmFkZChzZWxlY3RlZCk7cmVzdWx0LnB1c2goZWxlbWVudCk7fX1yZXR1cm4gcmVzdWx0O31leHBvcnR7ZGlzdGluY3RCeSBhcyBkaXN0aW5jdEJ5fTtmdW5jdGlvbiBkcm9wTGFzdFdoaWxlKGFycmF5LHByZWRpY2F0ZSl7bGV0IG9mZnNldD1hcnJheS5sZW5ndGg7d2hpbGUoMDxvZmZzZXQmJnByZWRpY2F0ZShhcnJheVtvZmZzZXQtMV0pKW9mZnNldC0tO3JldHVybiBhcnJheS5zbGljZSgwLG9mZnNldCk7fWV4cG9ydHtkcm9wTGFzdFdoaWxlIGFzIGRyb3BMYXN0V2hpbGV9O2Z1bmN0aW9uIGRyb3BXaGlsZShhcnJheSxwcmVkaWNhdGUpe2xldCBvZmZzZXQ9MDtjb25zdCBsZW5ndGg9YXJyYXkubGVuZ3RoO3doaWxlKGxlbmd0aD5vZmZzZXQmJnByZWRpY2F0ZShhcnJheVtvZmZzZXRdKSl7b2Zmc2V0Kys7fXJldHVybiBhcnJheS5zbGljZShvZmZzZXQsbGVuZ3RoKTt9ZXhwb3J0e2Ryb3BXaGlsZSBhcyBkcm9wV2hpbGV9O2Z1bmN0aW9uIGZpbHRlckVudHJpZXMocmVjb3JkLHByZWRpY2F0ZSl7Y29uc3QgcmVzdWx0PXt9O2NvbnN0IGVudHJpZXM9T2JqZWN0LmVudHJpZXMocmVjb3JkKTtmb3IoY29uc3Rba2V5LHZhbHVlXW9mIGVudHJpZXMpe2lmKHByZWRpY2F0ZShba2V5LHZhbHVlXSkpe3Jlc3VsdFtrZXldPXZhbHVlO319cmV0dXJuIHJlc3VsdDt9ZXhwb3J0e2ZpbHRlckVudHJpZXMgYXMgZmlsdGVyRW50cmllc307ZnVuY3Rpb24gZmlsdGVyS2V5cyhyZWNvcmQscHJlZGljYXRlKXtjb25zdCByZXN1bHQ9e307Zm9yKGNvbnN0W2tleSx2YWx1ZV1vZiBPYmplY3QuZW50cmllcyhyZWNvcmQpKXtpZihwcmVkaWNhdGUoa2V5KSl7cmVzdWx0W2tleV09dmFsdWU7fX1yZXR1cm4gcmVzdWx0O31leHBvcnR7ZmlsdGVyS2V5cyBhcyBmaWx0ZXJLZXlzfTtmdW5jdGlvbiBmaWx0ZXJWYWx1ZXMocmVjb3JkLHByZWRpY2F0ZSl7Y29uc3QgcmVzdWx0PXt9O2NvbnN0IGVudHJpZXM9T2JqZWN0LmVudHJpZXMocmVjb3JkKTtmb3IoY29uc3Rba2V5LHZhbHVlXW9mIGVudHJpZXMpe2lmKHByZWRpY2F0ZSh2YWx1ZSkpe3Jlc3VsdFtrZXldPXZhbHVlO319cmV0dXJuIHJlc3VsdDt9ZXhwb3J0e2ZpbHRlclZhbHVlcyBhcyBmaWx0ZXJWYWx1ZXN9O2Z1bmN0aW9uIGZpbmRTaW5nbGUoYXJyYXkscHJlZGljYXRlKXtsZXQgbWF0Y2g7bGV0IGZvdW5kPWZhbHNlO2Zvcihjb25zdCBlbGVtZW50IG9mIGFycmF5KXtpZihwcmVkaWNhdGUoZWxlbWVudCkpe2lmKGZvdW5kKXJldHVybiB1bmRlZmluZWQ7Zm91bmQ9dHJ1ZTttYXRjaD1lbGVtZW50O319cmV0dXJuIG1hdGNoO31leHBvcnR7ZmluZFNpbmdsZSBhcyBmaW5kU2luZ2xlfTtmdW5jdGlvbiBmaXJzdE5vdE51bGxpc2hPZihhcnJheSxzZWxlY3Rvcil7Zm9yKGNvbnN0IGN1cnJlbnQgb2YgYXJyYXkpe2NvbnN0IHNlbGVjdGVkPXNlbGVjdG9yKGN1cnJlbnQpO2lmKHNlbGVjdGVkIT09bnVsbCYmc2VsZWN0ZWQhPT11bmRlZmluZWQpe3JldHVybiBzZWxlY3RlZDt9fXJldHVybiB1bmRlZmluZWQ7fWV4cG9ydHtmaXJzdE5vdE51bGxpc2hPZiBhcyBmaXJzdE5vdE51bGxpc2hPZn07ZnVuY3Rpb24gaW5jbHVkZXNWYWx1ZShyZWNvcmQsdmFsdWUpe2Zvcihjb25zdCBpIGluIHJlY29yZCl7aWYoT2JqZWN0Lmhhc093bihyZWNvcmQsaSkmJihyZWNvcmRbaV09PT12YWx1ZXx8TnVtYmVyLmlzTmFOKHZhbHVlKSYmTnVtYmVyLmlzTmFOKHJlY29yZFtpXSkpKXtyZXR1cm4gdHJ1ZTt9fXJldHVybiBmYWxzZTt9ZXhwb3J0e2luY2x1ZGVzVmFsdWUgYXMgaW5jbHVkZXNWYWx1ZX07ZnVuY3Rpb24gaW50ZXJzZWN0KC4uLmFycmF5cyl7Y29uc3RbYXJyYXksLi4ub3RoZXJBcnJheXNdPWFycmF5cztsZXQgc2V0PW5ldyBTZXQoYXJyYXkpO2Zvcihjb25zdCBhcnJheSBvZiBvdGhlckFycmF5cyl7c2V0PXNldC5pbnRlcnNlY3Rpb24obmV3IFNldChhcnJheSkpO2lmKHNldC5zaXplPT09MClicmVhazt9cmV0dXJuWy4uLnNldF07fWV4cG9ydHtpbnRlcnNlY3QgYXMgaW50ZXJzZWN0fTtmdW5jdGlvbiBpbnZlcnRCeShyZWNvcmQsdHJhbnNmb3JtZXIpe2NvbnN0IHJlc3VsdD17fTtmb3IoY29uc3Rba2V5LHZhbHVlXW9mIE9iamVjdC5lbnRyaWVzKHJlY29yZCkpe2NvbnN0IG1hcHBlZEtleT10cmFuc2Zvcm1lcih2YWx1ZSk7aWYoIU9iamVjdC5oYXNPd24ocmVzdWx0LG1hcHBlZEtleSkpe3Jlc3VsdFttYXBwZWRLZXldPVtrZXldO31lbHNle3Jlc3VsdFttYXBwZWRLZXldLnB1c2goa2V5KTt9fXJldHVybiByZXN1bHQ7fWV4cG9ydHtpbnZlcnRCeSBhcyBpbnZlcnRCeX07ZnVuY3Rpb24gaW52ZXJ0KHJlY29yZCl7cmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhyZWNvcmQpLm1hcCgoW2tleSx2YWx1ZV0pPT5bdmFsdWUsa2V5XSkpO31leHBvcnR7aW52ZXJ0IGFzIGludmVydH07ZnVuY3Rpb24gam9pblRvU3RyaW5nKGFycmF5LHNlbGVjdG9yLG9wdGlvbnM9e30pe2NvbnN0e3NlcGFyYXRvcj0iLCIscHJlZml4PSIiLHN1ZmZpeD0iIixsaW1pdD0tMSx0cnVuY2F0ZWQ9Ii4uLiJ9PW9wdGlvbnM7bGV0IHJlc3VsdD0iIjtsZXQgaW5kZXg9MDtmb3IoY29uc3QgZWwgb2YgYXJyYXkpe2lmKGluZGV4PjApe3Jlc3VsdCs9c2VwYXJhdG9yO31pZihsaW1pdD49MCYmaW5kZXg+PWxpbWl0KXtyZXN1bHQrPXRydW5jYXRlZDticmVhazt9cmVzdWx0Kz1zZWxlY3RvcihlbCk7aW5kZXgrKzt9cmV0dXJuIHByZWZpeCtyZXN1bHQrc3VmZml4O31leHBvcnR7am9pblRvU3RyaW5nIGFzIGpvaW5Ub1N0cmluZ307ZnVuY3Rpb24gbWFwS2V5cyhyZWNvcmQsdHJhbnNmb3JtZXIpe2NvbnN0IHJlc3VsdD17fTtmb3IoY29uc3Rba2V5LHZhbHVlXW9mIE9iamVjdC5lbnRyaWVzKHJlY29yZCkpe2NvbnN0IG1hcHBlZEtleT10cmFuc2Zvcm1lcihrZXkpO3Jlc3VsdFttYXBwZWRLZXldPXZhbHVlO31yZXR1cm4gcmVzdWx0O31leHBvcnR7bWFwS2V5cyBhcyBtYXBLZXlzfTtmdW5jdGlvbiBtYXBOb3ROdWxsaXNoKGFycmF5LHRyYW5zZm9ybWVyKXtjb25zdCByZXN1bHQ9W107Zm9yKGNvbnN0IGVsZW1lbnQgb2YgYXJyYXkpe2NvbnN0IHRyYW5zZm9ybWVkRWxlbWVudD10cmFuc2Zvcm1lcihlbGVtZW50KTtpZih0cmFuc2Zvcm1lZEVsZW1lbnQhPT11bmRlZmluZWQmJnRyYW5zZm9ybWVkRWxlbWVudCE9PW51bGwpe3Jlc3VsdC5wdXNoKHRyYW5zZm9ybWVkRWxlbWVudCk7fX1yZXR1cm4gcmVzdWx0O31leHBvcnR7bWFwTm90TnVsbGlzaCBhcyBtYXBOb3ROdWxsaXNofTtmdW5jdGlvbiBtYXBWYWx1ZXMocmVjb3JkLHRyYW5zZm9ybWVyKXtjb25zdCByZXN1bHQ9e307Y29uc3QgZW50cmllcz1PYmplY3QuZW50cmllcyhyZWNvcmQpO2Zvcihjb25zdFtrZXksdmFsdWVdb2YgZW50cmllcyl7Y29uc3QgbWFwcGVkVmFsdWU9dHJhbnNmb3JtZXIodmFsdWUsa2V5KTtyZXN1bHRba2V5XT1tYXBwZWRWYWx1ZTt9cmV0dXJuIHJlc3VsdDt9ZXhwb3J0e21hcFZhbHVlcyBhcyBtYXBWYWx1ZXN9O2Z1bmN0aW9uIG1heEJ5KGFycmF5LHNlbGVjdG9yKXtsZXQgbWF4O2xldCBtYXhWYWx1ZTtmb3IoY29uc3QgY3VycmVudCBvZiBhcnJheSl7Y29uc3QgY3VycmVudFZhbHVlPXNlbGVjdG9yKGN1cnJlbnQpO2lmKG1heFZhbHVlPT09dW5kZWZpbmVkfHxjdXJyZW50VmFsdWU+bWF4VmFsdWUpe21heD1jdXJyZW50O21heFZhbHVlPWN1cnJlbnRWYWx1ZTt9fXJldHVybiBtYXg7fWV4cG9ydHttYXhCeSBhcyBtYXhCeX07ZnVuY3Rpb24gbWF4T2YoYXJyYXksc2VsZWN0b3Ipe2xldCBtYXhpbXVtVmFsdWU7Zm9yKGNvbnN0IGVsZW1lbnQgb2YgYXJyYXkpe2NvbnN0IGN1cnJlbnRWYWx1ZT1zZWxlY3RvcihlbGVtZW50KTtpZihtYXhpbXVtVmFsdWU9PT11bmRlZmluZWR8fGN1cnJlbnRWYWx1ZT5tYXhpbXVtVmFsdWUpe21heGltdW1WYWx1ZT1jdXJyZW50VmFsdWU7Y29udGludWU7fWlmKE51bWJlci5pc05hTihjdXJyZW50VmFsdWUpKXtyZXR1cm4gY3VycmVudFZhbHVlO319cmV0dXJuIG1heGltdW1WYWx1ZTt9ZXhwb3J0e21heE9mIGFzIG1heE9mfTtmdW5jdGlvbiBtYXhXaXRoKGFycmF5LGNvbXBhcmF0b3Ipe2xldCBtYXg7bGV0IGlzRmlyc3Q9dHJ1ZTtmb3IoY29uc3QgY3VycmVudCBvZiBhcnJheSl7aWYoaXNGaXJzdHx8Y29tcGFyYXRvcihjdXJyZW50LG1heCk+MCl7bWF4PWN1cnJlbnQ7aXNGaXJzdD1mYWxzZTt9fXJldHVybiBtYXg7fWV4cG9ydHttYXhXaXRoIGFzIG1heFdpdGh9O2Z1bmN0aW9uIG1pbkJ5KGFycmF5LHNlbGVjdG9yKXtsZXQgbWluO2xldCBtaW5WYWx1ZTtmb3IoY29uc3QgY3VycmVudCBvZiBhcnJheSl7Y29uc3QgY3VycmVudFZhbHVlPXNlbGVjdG9yKGN1cnJlbnQpO2lmKG1pblZhbHVlPT09dW5kZWZpbmVkfHxjdXJyZW50VmFsdWU8bWluVmFsdWUpe21pbj1jdXJyZW50O21pblZhbHVlPWN1cnJlbnRWYWx1ZTt9fXJldHVybiBtaW47fWV4cG9ydHttaW5CeSBhcyBtaW5CeX07ZnVuY3Rpb24gbWluT2YoYXJyYXksc2VsZWN0b3Ipe2xldCBtaW5pbXVtVmFsdWU7Zm9yKGNvbnN0IGVsZW1lbnQgb2YgYXJyYXkpe2NvbnN0IGN1cnJlbnRWYWx1ZT1zZWxlY3RvcihlbGVtZW50KTtpZihtaW5pbXVtVmFsdWU9PT11bmRlZmluZWR8fGN1cnJlbnRWYWx1ZTxtaW5pbXVtVmFsdWUpe21pbmltdW1WYWx1ZT1jdXJyZW50VmFsdWU7Y29udGludWU7fWlmKE51bWJlci5pc05hTihjdXJyZW50VmFsdWUpKXtyZXR1cm4gY3VycmVudFZhbHVlO319cmV0dXJuIG1pbmltdW1WYWx1ZTt9ZXhwb3J0e21pbk9mIGFzIG1pbk9mfTtmdW5jdGlvbiBtaW5XaXRoKGFycmF5LGNvbXBhcmF0b3Ipe2xldCBtaW47bGV0IGlzRmlyc3Q9dHJ1ZTtmb3IoY29uc3QgY3VycmVudCBvZiBhcnJheSl7aWYoaXNGaXJzdHx8Y29tcGFyYXRvcihjdXJyZW50LG1pbik8MCl7bWluPWN1cnJlbnQ7aXNGaXJzdD1mYWxzZTt9fXJldHVybiBtaW47fWV4cG9ydHttaW5XaXRoIGFzIG1pbldpdGh9O2Z1bmN0aW9uIG9taXQob2JqLGtleXMpe2NvbnN0IGV4Y2x1ZGVzPW5ldyBTZXQoa2V5cyk7cmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhvYmopLmZpbHRlcigoW2ssX10pPT4hZXhjbHVkZXMuaGFzKGspKSk7fWV4cG9ydHtvbWl0IGFzIG9taXR9O2Z1bmN0aW9uIHBhcnRpdGlvbihhcnJheSxwcmVkaWNhdGUpe2NvbnN0IG1hdGNoZXM9W107Y29uc3QgcmVzdD1bXTtmb3IoY29uc3QgZWxlbWVudCBvZiBhcnJheSl7aWYocHJlZGljYXRlKGVsZW1lbnQpKXttYXRjaGVzLnB1c2goZWxlbWVudCk7fWVsc2V7cmVzdC5wdXNoKGVsZW1lbnQpO319cmV0dXJuW21hdGNoZXMscmVzdF07fWV4cG9ydHtwYXJ0aXRpb24gYXMgcGFydGl0aW9ufTtmdW5jdGlvbiBwYXJ0aXRpb25FbnRyaWVzKHJlY29yZCxwcmVkaWNhdGUpe2NvbnN0IG1hdGNoPXt9O2NvbnN0IHJlc3Q9e307Y29uc3QgZW50cmllcz1PYmplY3QuZW50cmllcyhyZWNvcmQpO2Zvcihjb25zdFtrZXksdmFsdWVdb2YgZW50cmllcyl7aWYocHJlZGljYXRlKFtrZXksdmFsdWVdKSl7bWF0Y2hba2V5XT12YWx1ZTt9ZWxzZXtyZXN0W2tleV09dmFsdWU7fX1yZXR1cm5bbWF0Y2gscmVzdF07fWV4cG9ydHtwYXJ0aXRpb25FbnRyaWVzIGFzIHBhcnRpdGlvbkVudHJpZXN9O2Z1bmN0aW9uIHBlcm11dGF0aW9ucyhpbnB1dEFycmF5KXtjb25zdCByZXN1bHQ9W107Y29uc3QgYXJyYXk9Wy4uLmlucHV0QXJyYXldO2NvbnN0IGs9YXJyYXkubGVuZ3RoO2lmKGs9PT0wKXtyZXR1cm4gcmVzdWx0O31jb25zdCBjPW5ldyBBcnJheShrKS5maWxsKDApO3Jlc3VsdC5wdXNoKFsuLi5hcnJheV0pO2xldCBpPTE7d2hpbGUoaTxrKXtpZihjW2ldPGkpe2lmKGklMj09PTApe1thcnJheVswXSxhcnJheVtpXV09W2FycmF5W2ldLGFycmF5WzBdXTt9ZWxzZXtbYXJyYXlbY1tpXV0sYXJyYXlbaV1dPVthcnJheVtpXSxhcnJheVtjW2ldXV07fXJlc3VsdC5wdXNoKFsuLi5hcnJheV0pO2NbaV0rPTE7aT0xO31lbHNle2NbaV09MDtpKz0xO319cmV0dXJuIHJlc3VsdDt9ZXhwb3J0e3Blcm11dGF0aW9ucyBhcyBwZXJtdXRhdGlvbnN9O2Z1bmN0aW9uIHBpY2sob2JqLGtleXMpe3JldHVybiBPYmplY3QuZnJvbUVudHJpZXMoa2V5cy5tYXAoaz0+W2ssb2JqW2tdXSkpO31leHBvcnR7cGljayBhcyBwaWNrfTtmdW5jdGlvbiByZWR1Y2VHcm91cHMocmVjb3JkLHJlZHVjZXIsaW5pdGlhbFZhbHVlKXtyZXR1cm4gbWFwVmFsdWVzKHJlY29yZCx2YWx1ZT0+dmFsdWUucmVkdWNlKHJlZHVjZXIsaW5pdGlhbFZhbHVlKSk7fWV4cG9ydHtyZWR1Y2VHcm91cHMgYXMgcmVkdWNlR3JvdXBzfTtmdW5jdGlvbiBydW5uaW5nUmVkdWNlKGFycmF5LHJlZHVjZXIsaW5pdGlhbFZhbHVlKXtsZXQgY3VycmVudFJlc3VsdD1pbml0aWFsVmFsdWU7cmV0dXJuIGFycmF5Lm1hcCgoZWwsY3VycmVudEluZGV4KT0+Y3VycmVudFJlc3VsdD1yZWR1Y2VyKGN1cnJlbnRSZXN1bHQsZWwsY3VycmVudEluZGV4KSk7fWV4cG9ydHtydW5uaW5nUmVkdWNlIGFzIHJ1bm5pbmdSZWR1Y2V9O2Z1bmN0aW9uIHJhbmRvbUludGVnZXIobG93ZXIsdXBwZXIpe3JldHVybiBsb3dlcitNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKHVwcGVyLWxvd2VyKzEpKTt9ZnVuY3Rpb24gc2FtcGxlKGFycmF5KXtjb25zdCBsZW5ndGg9YXJyYXkubGVuZ3RoO3JldHVybiBsZW5ndGg/YXJyYXlbcmFuZG9tSW50ZWdlcigwLGxlbmd0aC0xKV06dW5kZWZpbmVkO31leHBvcnR7c2FtcGxlIGFzIHNhbXBsZX07ZnVuY3Rpb24gc2xpZGluZ1dpbmRvd3MoYXJyYXksc2l6ZSxvcHRpb25zPXt9KXtjb25zdHtzdGVwPTEscGFydGlhbD1mYWxzZX09b3B0aW9ucztpZighTnVtYmVyLmlzSW50ZWdlcihzaXplKXx8IU51bWJlci5pc0ludGVnZXIoc3RlcCl8fHNpemU8PTB8fHN0ZXA8PTApe3Rocm93IG5ldyBSYW5nZUVycm9yKCJCb3RoIHNpemUgYW5kIHN0ZXAgbXVzdCBiZSBwb3NpdGl2ZSBpbnRlZ2VyLiIpO31yZXR1cm4gQXJyYXkuZnJvbSh7bGVuZ3RoOk1hdGguZmxvb3IoKGFycmF5Lmxlbmd0aC0ocGFydGlhbD8xOnNpemUpKS9zdGVwKzEpfSwoXyxpKT0+YXJyYXkuc2xpY2UoaSpzdGVwLGkqc3RlcCtzaXplKSk7fWV4cG9ydHtzbGlkaW5nV2luZG93cyBhcyBzbGlkaW5nV2luZG93c307ZnVuY3Rpb24gc29ydEJ5KGFycmF5LHNlbGVjdG9yLG9wdGlvbnMpe2NvbnN0IGxlbj1hcnJheS5sZW5ndGg7Y29uc3QgaW5kZXhlcz1uZXcgQXJyYXkobGVuKTtjb25zdCBzZWxlY3RvcnM9bmV3IEFycmF5KGxlbik7Y29uc3Qgb3JkZXI9b3B0aW9ucz8ub3JkZXI/PyJhc2MiO2FycmF5LmZvckVhY2goKGVsZW1lbnQsaW5kZXgpPT57aW5kZXhlc1tpbmRleF09aW5kZXg7Y29uc3Qgc2VsZWN0ZWQ9c2VsZWN0b3IoZWxlbWVudCk7c2VsZWN0b3JzW2luZGV4XT1OdW1iZXIuaXNOYU4oc2VsZWN0ZWQpP251bGw6c2VsZWN0ZWQ7fSk7aW5kZXhlcy5zb3J0KChhaSxiaSk9PntsZXQgYT1zZWxlY3RvcnNbYWldO2xldCBiPXNlbGVjdG9yc1tiaV07aWYob3JkZXI9PT0iZGVzYyIpe1thLGJdPVtiLGFdO31pZihhPT09bnVsbClyZXR1cm4gMTtpZihiPT09bnVsbClyZXR1cm4tMTtyZXR1cm4gYT5iPzE6YTxiPy0xOjA7fSk7Zm9yKGxldCBpPTA7aTxsZW47aSsrKXtpbmRleGVzW2ldPWFycmF5W2luZGV4ZXNbaV1dO31yZXR1cm4gaW5kZXhlczt9ZXhwb3J0e3NvcnRCeSBhcyBzb3J0Qnl9O2Z1bmN0aW9uIHN1bU9mKGFycmF5LHNlbGVjdG9yKXtsZXQgc3VtPTA7Zm9yKGNvbnN0IGkgb2YgYXJyYXkpe3N1bSs9c2VsZWN0b3IoaSk7fXJldHVybiBzdW07fWV4cG9ydHtzdW1PZiBhcyBzdW1PZn07ZnVuY3Rpb24gdGFrZUxhc3RXaGlsZShhcnJheSxwcmVkaWNhdGUpe2xldCBvZmZzZXQ9YXJyYXkubGVuZ3RoO3doaWxlKDA8b2Zmc2V0JiZwcmVkaWNhdGUoYXJyYXlbb2Zmc2V0LTFdKSlvZmZzZXQtLTtyZXR1cm4gYXJyYXkuc2xpY2Uob2Zmc2V0LGFycmF5Lmxlbmd0aCk7fWV4cG9ydHt0YWtlTGFzdFdoaWxlIGFzIHRha2VMYXN0V2hpbGV9O2Z1bmN0aW9uIHRha2VXaGlsZShhcnJheSxwcmVkaWNhdGUpe2xldCBvZmZzZXQ9MDtjb25zdCBsZW5ndGg9YXJyYXkubGVuZ3RoO3doaWxlKGxlbmd0aD5vZmZzZXQmJnByZWRpY2F0ZShhcnJheVtvZmZzZXRdKSl7b2Zmc2V0Kys7fXJldHVybiBhcnJheS5zbGljZSgwLG9mZnNldCk7fWV4cG9ydHt0YWtlV2hpbGUgYXMgdGFrZVdoaWxlfTtmdW5jdGlvbiB1bmlvbiguLi5hcnJheXMpe2NvbnN0IHNldD1uZXcgU2V0O2Zvcihjb25zdCBhcnJheSBvZiBhcnJheXMpe2Zvcihjb25zdCBlbGVtZW50IG9mIGFycmF5KXtzZXQuYWRkKGVsZW1lbnQpO319cmV0dXJuIEFycmF5LmZyb20oc2V0KTt9ZXhwb3J0e3VuaW9uIGFzIHVuaW9ufTtmdW5jdGlvbiB1bnppcChwYWlycyl7Y29uc3R7bGVuZ3RofT1wYWlycztjb25zdCByZXN1bHQ9W25ldyBBcnJheShsZW5ndGgpLG5ldyBBcnJheShsZW5ndGgpXTtmb3IobGV0IGk9MDtpPGxlbmd0aDsrK2kpe2NvbnN0IHBhaXI9cGFpcnNbaV07cmVzdWx0WzBdW2ldPXBhaXJbMF07cmVzdWx0WzFdW2ldPXBhaXJbMV07fXJldHVybiByZXN1bHQ7fWV4cG9ydHt1bnppcCBhcyB1bnppcH07ZnVuY3Rpb24gd2l0aG91dEFsbChhcnJheSx2YWx1ZXMpe2NvbnN0IHRvRXhjbHVkZT1uZXcgU2V0KHZhbHVlcyk7cmV0dXJuIGFycmF5LmZpbHRlcihpdD0+IXRvRXhjbHVkZS5oYXMoaXQpKTt9ZXhwb3J0e3dpdGhvdXRBbGwgYXMgd2l0aG91dEFsbH07ZnVuY3Rpb24gemlwKC4uLmFycmF5cyl7Y29uc3QgbWluTGVuZ3RoPW1pbk9mKGFycmF5cyxlbGVtZW50PT5lbGVtZW50Lmxlbmd0aCk/PzA7Y29uc3QgcmVzdWx0PW5ldyBBcnJheShtaW5MZW5ndGgpO2ZvcihsZXQgaT0wO2k8bWluTGVuZ3RoO2krPTEpe2NvbnN0IGFycj1hcnJheXMubWFwKGl0PT5pdFtpXSk7cmVzdWx0W2ldPWFycjt9cmV0dXJuIHJlc3VsdDt9ZXhwb3J0e3ppcCBhcyB6aXB9Ow==";
